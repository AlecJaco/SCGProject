{# templates/create_user/index.html.twig #}
{% extends "base.html.twig" %}
{% form_theme form 'bootstrap_4_layout.html.twig' %}

{% block css %}
        <link href="{{ asset('css/register-style.css') }}" rel="stylesheet"/>
{% endblock %}

{% block title%}
    Create User
{% endblock %}

{% block content %}
    {% if successMsg != '' %}
        <div class="alert alert-success" role="alert">
            {{successMsg}}
        </div>
    {% endif %}

    <div class="row justify-content-center">
        <div class="col-md-8" id="register-box">
            <div class="card mb-3 mt-5">
                <div class="card-header">
                        Create User
                </div>

                <div class="card-body">
                    {% if passwordError %}
                        <div class="alert alert-danger" role="alert">
                            <b>ERROR:</b>{{passwordError}}
                        </div>
                    {% endif %}

                    {% if emailFound %}
                        <div class="alert alert-danger" role="alert">
                            <b>ERROR:</b>{{emailFound}}
                        </div>
                    {% endif %}

                    {{ form_start(form) }}
                        <div class="form_group">
                            <div class="col-md-12 mb-3">
                                {{ form_row(form.firstName, {'attr': {'class': 'form-control', 'placeholder': 'John'}}) }}
                            </div>
                        </div>

                        <div class="form_group">
                            <div class="col-md-12 mb-3">
                                {{ form_row(form.lastName, {'attr': {'class': 'form-control', 'placeholder': 'Doe'}}) }}
                            </div>
                        </div>

                        <div class="form_group">
                            <div class="col-md-12 mb-3">
                                {{ form_row(form.emailAddress, {'attr': {'class': 'form-control', 'placeholder': 'name@email.com'}}) }}
                            </div>
                        </div>

                        <div class="form_group">
                            <div class="col-md-12 mb-3">
                                {{ form_row(form.plainPassword, {'attr': {'class': 'form-control', 'pattern': '^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=\S+$).{8,})', 'title': 'Password must contain at least one of each of the following: uppercase letter, lowercase letter, number, special character. It also must be 8+ characters long.'}}) }}
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-12 mb-3">
                            	{{ form_row(form.roles, {'attr': {'class': 'form-control'}})}}
                            </div>
			      		</div>

                        <center>
                            <button type="submit" class="btn btn-primary">Create User</button>
                        </center>
                    </div>

                {{ form_end(form) }}
            </div>
        </div>
    </div>
{% endblock %}